/opt/splunk/etc/apps/search/default/macros.conf                    [audit_rexsearch]
/opt/splunk/etc/apps/search/default/macros.conf                    definition = rex "search='(?<search>.*?)', autojoin"
/opt/splunk/etc/apps/search/default/macros.conf                    [audit_searchlocal]
/opt/splunk/etc/apps/search/default/macros.conf                    definition = `audit_searchlocal("search_id!=rt_*")`
/opt/splunk/etc/apps/search/default/macros.conf                    [audit_searchlocal(1)]
/opt/splunk/etc/apps/search/default/macros.conf                    args = filter
/opt/splunk/etc/apps/search/default/macros.conf                    definition = search index=_audit action=search (id=* OR search_id=*) | eval search_id = if(isnull(search_id), id, search_id) | replace '*' with * in search_id | search $filter$
/opt/splunk/etc/apps/search/default/macros.conf                    [comment(1)]
/opt/splunk/etc/apps/search/default/macros.conf                    args = text
/opt/splunk/etc/apps/search/default/macros.conf                    definition = ""
/opt/splunk/etc/apps/search/default/macros.conf                    iseval = 1
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_audit_get_search_type]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval search_type = case( 
match(search_id, "^SummaryDirector_"), "summarization", 
match(search_id, "^((rt_)?scheduler__|alertsmanager_)"), "scheduled", 
match(search_id, "\d{10}\.\d+(_[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12})?$"), "ad hoc", 
true(), "other")
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_audit_get_searches(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_audit` host=$host$ action=search sourcetype=audittrail search_id!="rsa_*" 
| eval user = if(user="n/a", null(), user) 
| `dmc_audit_get_search_type` 
| eval search=if(isnull(savedsearch_name) OR savedsearch_name=="", search, savedsearch_name)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_audit_get_searches_for_groups(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = search_group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_audit` search_group=dmc_group_search_head search_group="$search_group$" action=search sourcetype=audittrail search_id!="rsa_*" 
| eval user = if(user="n/a", null(), user) 
| `dmc_audit_get_search_type` 
| eval search=if(isnull(savedsearch_name) OR savedsearch_name=="", search, savedsearch_name)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_audit_searchlocal(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = filter
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = search `dmc_set_index_audit` action=search (id=* OR search_id=*) | eval search_id = if(isnull(search_id), id, search_id) | replace '*' with * in search_id | search $filter$
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_background_flush_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=percent "0-10%"=0-10 "10-50%"=10.001-50 "50-100%"=50.001-100 default=abnormal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_build_forwarder_assets(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = sparkline_span
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_get_forwarder_tcpin` 
| stats values(fwdType) as forwarder_type, latest(version) as version, values(arch) as arch, values(os) as os, max(_time) as last_connected, sum(kb) as new_sum_kb, sparkline(avg(tcp_KBps), $sparkline_span$) as new_avg_tcp_kbps_sparkline, avg(tcp_KBps) as new_avg_tcp_kbps, avg(tcp_eps) as new_avg_tcp_eps by guid, hostname
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_classify_processes]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval process_class = case(    
    process=="splunk-optimize","index service",    
    process=="sh" OR process=="ksh" OR process=="bash" OR like(process,"python%") OR process=="powershell","scripted input",    
    process=="mongod", "KVStore") 
| eval process_class = case(    
    process=="splunkd" AND (like(args,"-p %start%") OR like(args,"service") OR like(args,"%_internal_launch_under_systemd%")),"splunkd server",    
    process=="splunkd" AND isnotnull(sid),"search",    
    process=="splunkd" AND (like(args,"fsck%") OR like(args,"recover-metadata%") OR like(args,"cluster_thing")),"index service",    
    process=="splunkd" AND args=="instrument-resource-usage", "scripted input",
    (like(process,"python%") AND like(args,"%/appserver/mrsparkle/root.py%")) OR like(process,"splunkweb"),"Splunk Web",    
    isnotnull(process_class), process_class)    
| eval process_class = if(isnull(process_class),"other",process_class)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_collection_interval]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = collection_interval = 10
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_convert_count_unit(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = x
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = case( 
$x$ >= 1000000000000, round($x$ / 1000000000000, 2)."T", 
$x$ >= 1000000000, round($x$ / 1000000000, 2)."B", 
$x$ >= 1000000, round($x$ / 1000000, 2)."M", 
$x$ >= 1000, round($x$ / 1000, 2)."K", 
true(), $x$ 
)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_convert_disk_usage_unit(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = x
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = case( 
$x$ > 1000000, round($x$ / 1024 / 1024, 2)." TB" 
$x$ > 1000, round($x$ / 1024, 2)." GB" 
1 == 1, $x$." MB" 
)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_convert_runtime(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = runtime
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = case( 
round($runtime$ / (3600*24) - 0.5) > 0, round($runtime$ / (3600*24) - 0.5)."d ".round(($runtime$ % (3600*24)) / 3600 - 0.5)."h ".round(($runtime$ % 3600) / 60 - 0.5)."min ".round($runtime$ % 60, 2)."s", 
round(($runtime$ % (3600*24)) / 3600 - 0.5) > 0, round(($runtime$ % (3600*24)) / 3600 - 0.5)."h ".round(($runtime$ % 3600) / 60 - 0.5)."min ".round($runtime$ % 60, 2)."s", 
round(($runtime$ % 3600) / 60 - 0.5) > 0, round(($runtime$ % 3600) / 60 - 0.5)."min ".round($runtime$ % 60, 2)."s", 
1 = 1, round($runtime$ % 60, 2)."s" 
)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_cpu_usage_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=cpu_usage "0-60%"=0-60 "60-80%"=60.001-80 "80-100%"=80.001-100 "100%+"=100.001-999999 default=abnormal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_cpu_usage_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_cpu_usage_rangemap` 
| `dmc_timechart` partial=f dc(server) as server_count by range 
| fields _time, "100%+", "80-100%", "60-80%", "0-60%"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_daily_license_usage_quota]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rest `dmc_dmc_group_license_master` /services/licenser/pools 
| join type=outer stack_id splunk_server [rest `dmc_dmc_group_license_master` /services/licenser/groups | search is_active=1 | eval stack_id=stack_ids | fields splunk_server stack_id is_active] 
| search is_active=1 
| fields splunk_server, stack_id, used_bytes 
| join type=outer stack_id splunk_server [rest `dmc_dmc_group_license_master` /services/licenser/stacks | eval stack_id=title | eval stack_quota=quota | fields splunk_server stack_id stack_quota] 
| stats sum(used_bytes) as used_bytes max(stack_quota) as stack_quota by splunk_server 
| eval usedGB=round(used_bytes/1024/1024/1024,3) 
| eval totalGB=round(stack_quota/1024/1024/1024,3) 
| eval percentage=round(usedGB / totalGB, 3)*100 
| fields splunk_server, percentage, usedGB, totalGB
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_disk_usage_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=pct_disk_usage "0-60%"=0-0.6 "60-80%"=0.6001-0.8 "80-100%"=0.8001-1 default=abnormal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_disk_usage_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_disk_usage_rangemap` 
| `dmc_timechart_for_disk_usage` partial=f dc(server_mount_point) as server_mount_point_count by range 
| fields _time, "80-100%", "60-80%", "0-60%"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_dmc_group_license_master]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = splunk_server_group=dmc_group_license_master
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_indexing_performance_deployment_indexing_rate(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_internal` source=*metrics.log* sourcetype=splunkd search_group=dmc_group_indexer search_group=$group$ group=thruput name=index_thruput 
| stats sum(kb) AS total_kb by host 
| addinfo 
| eval time_window = info_max_time - info_min_time 
| eval kbps = round(total_kb / time_window, 0) 
| `dmc_indexing_rate_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." dmc_group_indexer" 
| fields serverName, machine, kbps, range, numberOfCores, ram, version, Action
| eval kbps = kbps." KB/s" 
| rename serverName as Instance, machine as Machine, kbps as "Indexing Rate", range as "Indexing Rate Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_indexing_performance_deployment_queue_fill_ratio(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group, queueType, funcQueue, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_internal` source=*metrics.log sourcetype=splunkd search_group=dmc_group_indexer search_group=$group$ group=queue name=$queueType$ 
| eval max=if(isnotnull(max_size_kb),max_size_kb,max_size) 
| eval curr=if(isnotnull(current_size_kb),current_size_kb,current_size) 
| eval fill_perc=round((curr/max)*100,2) 
| stats $funcQueue$(fill_perc) AS fill_percentage by host 
| `dmc_queue_fill_ratio_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." dmc_group_indexer" 
| fields serverName, machine, fill_percentage, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, fill_percentage as "Fill Ratio (%)", range as "Fill Ratio Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_join_peers_by_peerURI]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = lookup dmc_assets host OUTPUT peerURI, serverName, machine 
| eval peerURI = mvindex(peerURI, 0) 
| eval machine = mvindex(machine, 0) 
| eval serverName = mvindex(serverName, 0) 
| join type=outer peerURI 
 [| rest splunk_server=local /services/search/distributed/peers 
  | rename title as peerURI 
  | append  
    [| rest splunk_server=local /services/server/info 
     | eval peerURI = "localhost" 
    ] 
  | eval ram = round(physicalMemoryMB / 1024, 2)." GB" 
  | fields peerURI, version, numberOfCores, ram 
 ] 
| eval Action = serverName 
| fields - _time
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_kv_store_deployment_background_flush(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$group$ search_group=dmc_group_kv_store component=kvstoreserverstats 
| stats range(data.backgroundFlushing.total_ms)  AS diff by  host 
| addinfo 
| eval time_window = info_max_time - info_min_time 
| eval ms_per_min = diff / (time_window / 60) 
| eval percent = round(ms_per_min / (60 * 1000) * 100, 2) 
| `dmc_background_flush_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." dmc_group_kv_store" 
| fields serverName, machine, percent, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, percent as "Background Flush (%)", range as "Background Flush Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_kv_store_deployment_lock_percentage(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group, countLockFunc, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=dmc_group_kv_store  search_group=$group$ component=kvstoreserverstats 
| stats range(data.globalLock.lockTime) AS globalLock range(data.globalLock.totalTime) AS total by host  
| eval percent=abs(globalLock*100/total)   
| stats $countLockFunc$(percent) as percent_locked by host 
| rangemap field=percent_locked "0-30%"=0-30 "30-50%"=30.001-50 "50-100%"=50.001-1000 default=abnormal  
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." dmc_group_kv_store" 
| fields serverName, machine, percent_locked, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, percent_locked as "Lock (%)", range as "Lock Percentage Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_kv_store_deployment_memory_ratio(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$group$ search_group=dmc_group_kv_store component=kvstoreserverstats 
| eval ratio='data.mem.virtual'/'data.mem.mappedWithJournal' 
| stats avg(ratio) AS myratio by host  
| eval myratio = round(myratio, 2) 
| rangemap field=myratio "0-2x"=0-2 "2-3x"=2.001-3 ">3x"=3.001-10000 default=abnormal 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." dmc_group_kv_store" 
| fields serverName, machine, myratio, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, myratio as "Virtual to Mapped Ratio", range as "Ratio Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_kv_store_deployment_network(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=dmc_group_kv_store search_group=$group$ component=kvstoreserverstats 
| stats range(data.network.bytesIn) as indiff range(data.network.bytesOut) as outdiff range(data.network.numRequests) as Requests by host 
| eval "MB In"=indiff/1000000 
| eval "MB Out"=outdiff/1000000 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." dmc_group_kv_store" 
| table serverName, machine, "MB In", "MB Out", Requests, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_kv_store_deployment_page_faults(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group, countPageFaultsFunc, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=dmc_group_kv_store search_group=$group$ component=kvstoreserverstats  
| rename data.opcounters.command as c, data.opcounters.update as u, data.opcounters.queries as q, data.opcountes.deletes as d, data.opcounters.getmore as g, data.opcounters.inserts as i 
| eval commands=if(isNotNull('c'), 'c',0) 
| eval updates=if(isNotNull('u'), 'u', 0) 
| eval queries=if(isNotNull('q'), 'q', 0) 
| eval deletes=if(isNotNull('d'), 'd', 0) 
| eval getmores=if(isNotNull('g'), 'g', 0) 
| eval inserts=if(isNotNull('i'), 'i', 0) 
| eval totalops=commands+updates+queries+deletes+getmores+inserts 
| bin _time minspan=30s 
| stats latest(totalops) AS ops latest(data.extra_info.page_faults) AS pf by host _time 
| eval  percent=if(opsdiff==0, 0, round(abs(pf/ops), 2))   
| stats $countPageFaultsFunc$(percent) as percent by host  
| rangemap field=percent "0-0.7"=0-0.7 "0.7-1.3"=0.7001-1.3 "1.3+"=1.3001-999999 default=abnormal  
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." dmc_group_kv_store" 
| fields serverName, machine, percent, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, percent as "Page Faults per Operation", range as "Page Fault Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_kv_store_deployment_replication_lag(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$group$ search_group=dmc_group_kv_store component=kvstorereplicasetstats data.replSetStats.myState=1 
| spath data.replSetStats.members{}.name output=name 
| spath data.replSetStats.members{}.optimeDate output=optimeDate 
| spath data.replSetStats.members{}.stateStr output=stateStr 
| spath data.replSetStats.date output=date 
| eval prop_key_val=mvzip(mvzip(name, optimeDate, "---"), stateStr, "---") 
| fields _time, date, prop_key_val 
| mvexpand prop_key_val 
| eval name=mvindex(split(prop_key_val, "---"), 0) 
| eval optimeDate=mvindex(split(prop_key_val, "---"), 1) 
| eval stateStr=mvindex(split(prop_key_val, "---"), 2) 
| where stateStr="SECONDARY" 
| join _time 
  [ search `dmc_set_index_introspection` search_group=dmc_group_kv_store component=kvstorereplicasetstats data.replSetStats.myState=1 
  | spath data.replSetStats.members{}.name output=name 
  | spath data.replSetStats.members{}.optimeDate output=optimeDate 
  | spath data.replSetStats.members{}.stateStr output=stateStr 
  | spath data.replSetStats.date output=date 
  | eval prop_key_val=mvzip(mvzip(name, optimeDate, "---"), stateStr, "---") 
  | fields _time, date, prop_key_val 
  | mvexpand prop_key_val 
  | eval name=mvindex(split(prop_key_val, "---"), 0) 
  | eval optimeDate=mvindex(split(prop_key_val, "---"), 1) 
  | eval stateStr=mvindex(split(prop_key_val, "---"), 2) 
  | where stateStr="PRIMARY" 
  | stats max(optimeDate) as primary by _time] 
| eval name=mvindex(split(name, ":"), 0) 
| eval lag=(primary-optimeDate)/1000 
| eventstats max(date) as max_date by name 
| stats avg(lag) as lag by name stateStr max_date 
| eval lag = round(lag, 2) 
| `dmc_replication_lag_rangemap` 
| where range="$metric$" 
| eval date = max_date/1000 
| eval date = strftime(date, "%m/%d/%Y %H:%M:%S %z") 
| rename name as Instance, lag as Lag, range as "Lag Range", stateStr as State, date as "Oplog Date" 
| table Instance Lag "Oplog Date" "Lag Range" State
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_kv_store_primary_oplog_window(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$group$ search_group=dmc_group_kv_store component=kvstorereplicasetstats data.replSetStats.myState=1 
| eval Instance=host 
| rename data.oplogInfo.start as start, data.oplogInfo.end as end 
| eval start = start/1000 
| eval end = end/1000 
| eval diff= (end-start)/3600 
| `dmc_time_format(start)` 
| `dmc_time_format(end)` 
| stats first(start) as "Start Date" first(end) as "End Date" first(diff) as "Window (Hours)" by Instance
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_resource_usage_cpu_deployment_usage(5)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role, group, role_post_filter, countCPUFunc, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$role$ search_group=$group$ $role_post_filter$ sourcetype=splunk_resource_usage component=Hostwide 
| eval total_cpu_usage = 'data.cpu_system_pct' + 'data.cpu_user_pct' 
| stats $countCPUFunc$(total_cpu_usage) as cpu_usage by host 
| `dmc_cpu_usage_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." $role$" 
| fields serverName, machine, cpu_usage, range, numberOfCores, ram, version, Action 
| eval cpu_usage = cpu_usage." %" 
| rename serverName as Instance, machine as Machine, cpu_usage as "CPU Usage", range as "CPU Usage Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_resource_usage_deployment_cpu_usage(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role, group, countCPUFunc, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$role$ search_group=$group$ sourcetype=splunk_resource_usage component=Hostwide 
| eval total_cpu_usage = 'data.cpu_system_pct' + 'data.cpu_user_pct' 
| stats $countCPUFunc$(total_cpu_usage) as cpu_usage by host 
| `dmc_cpu_usage_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." $role$" 
| fields serverName, machine, cpu_usage, range, numberOfCores, ram, version, Action 
| eval cpu_usage = cpu_usage." %" 
| rename serverName as Instance, machine as Machine, cpu_usage as "CPU Usage", range as "CPU Usage Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_resource_usage_deployment_disk_usage(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role, group, countDiskFunc, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$role$ search_group=$group$ sourcetype=splunk_disk_objects component=Partitions 
| eval mount_point = 'data.mount_point' 
| eval free = if(isnotnull('data.available'), 'data.available', 'data.free') 
| eval pct_disk_usage = round(1 - free / 'data.capacity', 2) 
| eval server_mount_point = host.":".mount_point 
| stats $countDiskFunc$(pct_disk_usage) as pct_disk_usage by server_mount_point 
| `dmc_disk_usage_rangemap` 
| where range="$metric$" 
| eval host = replace(server_mount_point, ":.*", "") 
| eval mount_point = replace(server_mount_point, ".*:", "") 
| eval pct_disk_usage = pct_disk_usage * 100 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." $role$" 
| fields serverName, machine, mount_point, pct_disk_usage, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, mount_point as "Mount Point", pct_disk_usage as "Disk Usage (%)", range as "Disk Usage Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_resource_usage_deployment_load_average(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role, group, countLoadAvgFunc, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$role$ search_group=$group$ sourcetype=splunk_resource_usage component=Hostwide 
| stats $countLoadAvgFunc$(data.normalized_load_avg_1min) as load_average by host 
| `dmc_load_average_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." $role$" 
| fields serverName, machine, load_average, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, load_average as "Load Average", range as "Load Average Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_resource_usage_deployment_memory_usage(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role, group, countMemFunc, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$role$ search_group=$group$ sourcetype=splunk_resource_usage component=Hostwide 
| eval pct_mem_used = 'data.mem_used' / 'data.mem' 
| stats $countMemFunc$(pct_mem_used) as pct_mem_used by host 
| `dmc_memory_usage_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." $role$" 
| fields serverName, machine, pct_mem_used, range, numberOfCores, ram, version, Action 
| eval pct_mem_used = round(pct_mem_used * 100, 2) 
| eval pct_mem_used = pct_mem_used." %" 
| rename serverName as Instance, machine as Machine, pct_mem_used as "Memory Usage", range as "Memory Usage Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_search_activity_deployment_resource_usage(5)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role, group, resourceType, resourceFunction, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$role$ search_group=$group$ sourcetype=splunk_resource_usage ((component=PerProcess data.search_props.sid::*) OR component=Hostwide) 
| `dmc_rename_introspection_fields` 
| eval sid = if(component=="Hostwide", "n/a", sid) 
| eval pid = if(component=="Hostwide", "n/a", pid) 
| eval pct_cpu = if(component=="Hostwide", 0, pct_cpu) 
| eval mem_used = if(component=="Hostwide", 0, 'mem_used) 
| `dmc_set_bin` 
| stats latest($resourceType$) AS resource_usage_dedup values(Action) as Action by _time, sid, pid, host 
| stats sum(resource_usage_dedup) AS sum_resource_usage values(Action) as Action by _time, host 
| stats $resourceFunction$(sum_resource_usage) as resource_usage values(Action) as Action by host 
| `dmc_$resourceType$_rangemap` 
| where range == "$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." $role$" 
| fields serverName, machine, resource_usage, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, resource_usage as "$resourceType$ Usage", range as "$resourceType$ Usage Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_drilldown_search_activity_deployment_search_concurrency(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role, group, searchFunction, metric
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` search_group=$role$ search_group=$group$ sourcetype=splunk_resource_usage ((component=PerProcess data.search_props.sid::*) OR component=Hostwide) 
| `dmc_rename_introspection_fields` 
| `dmc_set_bin` 
| stats dc(sid) AS distinct_search_count values(Action) as Action by host, _time 
| stats $searchFunction$(distinct_search_count) as search_count values(Action) as Action by host 
| `dmc_search_count_rangemap` 
| where range="$metric$" 
| `dmc_drilldown_join_peers_by_peerURI` 
| eval Action = Action." $role$" 
| fields serverName, machine, search_count, range, numberOfCores, ram, version, Action 
| rename serverName as Instance, machine as Machine, search_count as "Count of Searches", range as "Count of Searches Range", version as Version, numberOfCores as Cores, ram as RAM
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_event_local_search_dispatch]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_audit` sourcetype=audittrail action=search search=*
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_event_remote_search_dispatch]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_internal` sourcetype=splunkd_remote_searches "Streamed search search starting"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_exclude_indexes]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _dmc_title = if(isnotnull(title), title, 'data.name')
| where NOT (_dmc_title == "history" OR _dmc_title == "_thefishbucket" OR _dmc_title == "_blocksignature")
| fields - _dmc_title
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_exclude_volumes]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _dmc_volume = if(isnotnull(title), title, 'data.name') 
| where NOT _dmc_volume == "_splunk_summaries" 
| fields - _dmc_volume
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_all_triggered_alerts(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = minute_offset
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rest splunk_server=local /servicesNS/-/splunk_monitoring_console/alerts/fired_alerts/- 
| rename savedsearch_name as title 
| join type=outer title [|rest splunk_server=local /servicesNS/-/splunk_monitoring_console/saved/searches ] 
| rename title as "Alert Name" 
| join type=outer sid [rest splunk_server=local /servicesNS/nobody/splunk_monitoring_console/search/jobs/] 
| eval now=relative_time(now(),"-$minute_offset$m") 
| where trigger_time > now 
| rename trigger_time AS "_time", description as "Description", sid AS Instance 
| convert timeformat="%b. %d, %Y %l:%M %p" ctime(_time) AS "Time Triggered" 
| fields - _time 
| fields "Alert Name", Instance, "Time Triggered", "Description"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_core_info]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval core_info = if(isnull(numberOfCores), "N/A", numberOfCores)." / ".if(isnull(numberOfVirtualCores), "N/A", numberOfVirtualCores)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_distsearch_group_servers(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rest splunk_server=local /services/search/distributed/groups 
| fields title member 
| search title="dmc_group_$group_name$" 
| eval title=replace(title, "^dmc_group_", "") 
| eval servers=mvjoin(member,",") 
| fields title servers
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_forwarder_info]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_forwarder_assets
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_forwarder_tcpin]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_internal` sourcetype=splunkd group=tcpin_connections (connectionType=cooked OR connectionType=cookedSSL) fwdType=* guid=*
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_groups]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_assets 
| fields search_group 
| dedup search_group 
| search search_group="dmc_*" 
| `dmc_set_group_label_and_sort(search_group)`
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_groups_containing_role(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_assets 
| mvcombine search_group 
| search search_group="$role$" 
| mvexpand search_group 
| fields search_group 
| dedup search_group 
| `dmc_set_group_label_and_sort(search_group)`
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_indexer_cluster_groups]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_assets 
| fields search_group 
| dedup search_group 
| search search_group="dmc_indexerclustergroup_*" 
| eval label = replace(search_group, "dmc_indexerclustergroup_", "")
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_instance_info(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_assets | mvcombine search_group | search search_group="$group$"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_instance_roles]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_assets 
| mvcombine search_group 
| eval role = search_group 
| mvexpand role 
| eval role = if(like(role, "dmc_group_%"), role, "") 
| eval role = replace(role, "^dmc_group_", "") 
| mvcombine role
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_instances_on_a_machine(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = machine
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_get_instance_info(*)` 
| where machine = "$machine$" 
| dedup serverName
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_last_hour_resource_usage_from_sid(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host, sid
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` host=$host$ sourcetype=splunk_resource_usage component=PerProcess data.search_props.sid="$sid$" earliest=-1h 
| `dmc_set_bin` 
| `dmc_rename_introspection_fields` 
| stats latest(pct_cpu) AS pct_cpu_dedup latest(mem_used) AS mem_used_dedup by _time, pid 
| stats sum(pct_cpu_dedup) AS pct_cpu_sum sum(mem_used_dedup) AS mem_used_sum by _time 
| timechart span=10s latest(pct_cpu_sum) AS pct_cpu latest(mem_used_sum) AS mem_used
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_local_instance_asset]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_get_local_instance_asset_computed_groups` 
| join type=outer peerURI [ 
| rest splunk_server=local /services/search/distributed/groups 
| fields title member 
| where isnotnull(mvfind(member, "localhost:localhost")) 
| eval peerURI="localhost" 
| rename title AS search_groups 
| fields peerURI search_groups 
| mvcombine delim=" " search_groups] 
| makemv delim=" " search_groups 
| eval search_groups = if(isnotnull(search_groups),search_groups,computed_search_groups) 
| fields - computed_search_groups 
| mvexpand search_groups
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_local_instance_asset_computed_groups]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rest splunk_server=local /services/server/info 
| eval peerURI="localhost" 
| eval server_roles="indexer,search_head,license_master,kv_store" 
| makemv delim="," server_roles 
| mvexpand server_roles 
| eval computed_search_groups="dmc_group_".server_roles 
| stats first(peerURI) AS peerURI first(host) AS host first(host_fqdn) AS machine values(computed_search_groups) AS computed_search_groups by serverName
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_local_instance_asset_in_distributed_mode]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_get_local_instance_asset_computed_groups` 
| join type=inner peerURI [ 
| rest splunk_server=local /services/search/distributed/groups 
| fields title member 
| where isnotnull(mvfind(member, "localhost:localhost")) 
| eval peerURI="localhost" 
| rename title AS search_groups 
| fields peerURI search_groups 
| mvcombine delim=" " search_groups] 
| makemv delim=" " search_groups 
| eval search_groups = if(isnotnull(search_groups),search_groups,computed_search_groups) 
| fields - computed_search_groups 
| mvexpand search_groups
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_machine_info]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_get_instance_info(*)` 
| stats first(host) as host first(serverName) as serverName by machine
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_port_from_splunktcp_stanza(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = stanza_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = | rex field=$stanza_name$ "splunktcp(-ssl)?:(\/{1,2})?(([0-9]{1,3}\.){3}[0-9]{1,3})?(:)?(?<port>\d+)" 
| eval port = if(match($stanza_name$, "splunktcp-ssl"), port." (SSL)", port) 
| eval port = if(isnotnull(port), port, null)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_primary_role]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval primary_role = case( 
    role = "cluster_master", "cluster_master", 
    role = "search_head", "search_head", 
    role = "indexer", "indexer", 
    role = "kv_store", "kv_store", 
    role = "license_master", "license_master")
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_recently_triggered_alerts]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rest splunk_server=local /servicesNS/-/splunk_monitoring_console/saved/searches 
|rename title as savedsearch_name 
| fields savedsearch_name, triggered_alert_count, description 
| where triggered_alert_count > 0 
| join type=outer savedsearch_name[|rest splunk_server=local /servicesNS/-/splunk_monitoring_console/alerts/fired_alerts/- 
| cluster field=savedsearch_name] 
| join type=outer sid [rest splunk_server=local /servicesNS/nobody/splunk_monitoring_console/search/jobs/] 
| rename savedsearch_name AS "Alert Name", triggered_alert_count AS "Trigger Count", published AS "Last time triggered", description as "Description" | fields "Alert Name" , "Trigger Count", "Last time triggered", "Description", sid
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_search_head_cluster_groups]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_assets 
| fields search_group 
| dedup search_group 
| search search_group="dmc_searchheadclustergroup_*" 
| eval label = replace(search_group, "dmc_searchheadclustergroup_", "")
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_get_warnings_and_errors(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = search_group, component
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_internal` search_group=$search_group$ sourcetype=splunkd component=$component$  (log_level=WARN OR log_level=ERROR)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_indexing_rate_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=kbps "0-50 KB/s"=0-50 "50-100 KB/s"=50.001-100 "100-500 KB/s"=100.001-500 "500 KB/s - 1 MB/s"=500.001-1024 "1-2.5 MB/s"=1024.001-2560 "2.5-5 MB/s"=2560.001-5120 "5-10 MB/s"=5120.001-10240 "10+ MB/s"=10240.001-999999 default="NULL"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_indexing_rate_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_indexing_rate_rangemap` 
| timechart minspan=30s partial=f dc(host) AS instance_count by range 
| fields _time "10+ MB/s" "5-10 MB/s" "2.5-5 MB/s" "1-2.5 MB/s" "500 KB/s - 1 MB/s" "100-500 KB/s" "50-100 KB/s" "0-50 KB/s"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_instances_view_default_search(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = inputlookup dmc_assets 
| mvcombine search_group 
| rex max_match=0 field=search_group "dmc_indexerclustergroup_(?<indexer_cluster>.*)" 
| rex max_match=0 field=search_group "dmc_searchheadclustergroup_(?<search_head_cluster>.*)" 
| mvexpand search_group 
| search search_group = "$group$" 
| mvcombine search_group 
| join type=outer peerURI 
  [| rest splunk_server=local /services/search/distributed/peers 
   | rename title as peerURI ] 
| join type=outer peerURI 
  [| rest splunk_server=local /services/server/info 
   | eval peerURI = "localhost" 
   | eval status = "Up"] 
| join peerURI 
  [| `dmc_get_instance_roles` ] 
| eval status = if(status == "Up", status, "Unreachable") 
| eval Action = serverName." ".role 
| eval OS = os_name 
| eval ram = round(physicalMemoryMB / 1024, 2)." GB" 
| `dmc_get_core_info` 
| fields serverName, machine, role, indexer_cluster, search_head_cluster, OS, core_info, ram, version, status, Action 
| sort status, serverName 
| rename serverName as Instance, machine as Machine, role as Role, indexer_cluster as "Indexer Cluster", search_head_cluster as "Search Head Cluster", core_info as "CPU Cores (Physical / Virtual)", ram as RAM, version as Version, status as Status
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_iostats_rangemap(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = fieldname
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=$fieldname$ "0-60%"=0-60 "60-80%"=60.0001-80, "80-100%"=80.0001-100 default=abnormal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_base_summary(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host, pool_clause
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_internal` host=$host$ source=*license_usage.log* type="RolloverSummary" earliest=-30d@d $pool_clause$
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_base_usage(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host, pool_clause
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_internal` source=*license_usage.log* type="Usage" | eval h=if(len(h)=0 OR isnull(h),"(SQUASHED)",h) | eval s=if(len(s)=0 OR isnull(s),"(SQUASHED)",s) | eval idx=if(len(idx)=0 OR isnull(idx),"(UNKNOWN)",idx) | bin _time span=1d | stats sum(b) as b by _time, host, pool, s, st, h, idx | search host=$host$ $pool_clause$
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_pool_size_srch(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host, pool_clause
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = join type=outer _time [search `dmc_set_index_internal` host=$host$ source=*license_usage.log* type="RolloverSummary" earliest=-30d@d $pool_clause$ | eval _time=_time - 43200 | bin _time span=1d | stats latest(poolsz) AS  "pool size" by _time] | fields - _timediff
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_stack_size_srch(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host, pool_clause
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = join type=outer _time [search `dmc_set_index_internal` host=$host$ source=*license_usage.log* type="RolloverSummary" earliest=-30d@d | eval _time=_time - 43200 | bin _time span=1d | dedup _time stack | stats sum(stacksz) AS "stack size" by _time] | fields - _timediff
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summary_maxavg_indxr(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, split_by_field_name, split_by_label
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b by slave, pool, _time | eval slave_guid=slave | stats sum(b) AS volume by slave_guid, _time | stats avg(volume) AS avgVolume max(volume) AS maxVolume by slave_guid | join type=outer slave_guid [rest splunk_server=$splunk_server$ /services/licenser/slaves | rename label AS slave_name title AS slave_guid | table slave_guid slave_name] | eval slave_name = if(isnotnull(slave_name),slave_name,"GUID: ".slave_guid) | foreach *Volume [eval <<FIELD>>=round('<<FIELD>>'/1024/1024/1024, 3)] |  rename slave_name as "Indexer" avgVolume AS "average" maxVolume AS "peak" | sort 5 - "average" | fields "Indexer", "average", "peak" | fields - _timediff, slave_guid
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summary_maxavg_no_split(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, split_by_field_name, split_by_label
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b by slave, pool, _time | stats sum(b) AS volume by _time | stats avg(volume) AS avgVolume max(volume) AS maxVolume  | eval maxVolumeGB=round(maxVolume/1024/1024/1024,3) | eval avgVolumeGB=round(avgVolume/1024/1024/1024,3) | rename avgVolumeGB AS "average" maxVolumeGB AS "peak" | eval "All Pools" = "" | fields "All Pools", "average", "peak"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summary_maxavg_pool(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, split_by_field_name, split_by_label
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b by slave, pool, _time | stats sum(b) AS volume by pool, _time  | stats avg(volume) AS avgVolume max(volume) AS maxVolume by pool | eval maxVolumeGB=round(maxVolume/1024/1024/1024,3) | eval avgVolumeGB=round(avgVolume/1024/1024/1024,3) | rename avgVolumeGB AS "average" maxVolumeGB AS "peak" pool as "Pool" | fields "Pool", "average", "peak" | sort 5 - "average"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summery_indxr(5)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, size_search, host, pool_clause, split_by_field_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b by slave, pool, _time | eval slave_guid=slave | stats max(b) AS volume by slave_guid, _time | join type=outer slave_guid [rest splunk_server=$splunk_server$ /services/licenser/slaves | rename label AS slave_name title AS slave_guid | table slave_guid slave_name] | eval slave_name = if(isnotnull(slave_name),slave_name,"GUID: ".slave_guid) | timechart span=1d max(volume) AS "volume" by slave_name fixedrange=false | `$size_search$($host$, "$pool_clause$")` | foreach * [eval <<FIELD>>=round('<<FIELD>>'/1024/1024/1024, 3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summery_no_split(5)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, size_search, host, pool_clause, split_by_field_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b by slave, pool, _time | timechart span=1d sum(b) AS "volume" fixedrange=false | `$size_search$($host$, "$pool_clause$")` | foreach * [eval <<FIELD>>=round('<<FIELD>>'/1024/1024/1024, 3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summery_pct_indxr(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, sz_clause, host, split_by_field_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b latest($sz_clause$) AS $sz_clause$ by slave, pool, _time | stats sum(b) AS volumeB max($sz_clause$) AS $sz_clause$ by slave, _time | eval pctused=round(volumeB/$sz_clause$*100,2) | eval slave_guid=slave | join type=outer slave_guid [rest splunk_server=$splunk_server$ /services/licenser/slaves | rename label AS slave_name title AS slave_guid | table slave_guid slave_name] | eval slave_name = if(isnotnull(slave_name),slave_name,"GUID: ".slave_guid) | timechart span=1d max(pctused) AS "used" by slave_name fixedrange=false
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summery_pct_no_split(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, sz_clause, host, split_by_field_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b latest($sz_clause$) AS $sz_clause$ by slave, pool, _time | stats sum(b) AS volumeB max($sz_clause$) AS $sz_clause$ by _time | eval pctused=round(volumeB/$sz_clause$*100,2) | timechart span=1d max(pctused) AS "used" fixedrange=false
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summery_pct_pool(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, sz_clause, host, split_by_field_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b latest($sz_clause$) AS $sz_clause$ by slave, pool, _time | stats sum(b) AS volumeB max($sz_clause$) AS $sz_clause$ by pool, _time | eval pctused=round(volumeB/$sz_clause$*100,2) | timechart span=1d max(pctused) AS "used" by pool fixedrange=false
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_summery_pool(5)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, size_search, host, pool_clause, split_by_field_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval _time=_time - 43200 | bin _time span=1d | stats latest(b) AS b by slave, pool, _time | timechart span=1d sum(b) AS "volume" by pool fixedrange=false | `$size_search$($host$, "$pool_clause$")` | foreach * [eval <<FIELD>>=round('<<FIELD>>'/1024/1024/1024, 3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_usage_all(5)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, size_search, host, split_by_field_name, pool_clause
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = timechart span=1d sum(b) AS volumeB by $split_by_field_name$ fixedrange=false | `$size_search$($host$, "$pool_clause$")` | foreach * [eval <<FIELD>>=round('<<FIELD>>'/1024/1024/1024, 3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_usage_maxavg_all(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, split_by_field_name, split_by_label
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = stats sum(b) AS volume by $split_by_field_name$, _time | stats avg(volume) AS avgVolume max(volume) AS maxVolume by $split_by_field_name$ | eval avgVolumeGB=round(avgVolume/1024/1024/1024,3) | eval maxVolumeGB=round(maxVolume/1024/1024/1024,3) | fields $split_by_field_name$, avgVolumeGB, maxVolumeGB | rename avgVolumeGB AS "average" maxVolumeGB AS "peak" $split_by_field_name$ AS "$split_by_label$" | sort 5 - "average"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_licensing_usage_pct_all(4)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = splunk_server, sz_clause, host, split_by_field_name
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = join _time pool type=outer [search `dmc_set_index_internal` host=$host$ source=*license_usage.log* type="RolloverSummary" earliest=-30d@d | eval _time=_time - 43200 | bin _time span=1d | stats latest($sz_clause$) AS $sz_clause$ by slave, pool, _time | stats max($sz_clause$) AS $sz_clause$ by pool, _time] | stats sum(b) AS bytes_used max($sz_clause$) AS $sz_clause$ by $split_by_field_name$, _time | timechart span=1d max(eval(round(bytes_used/$sz_clause$*100,2))) by $split_by_field_name$ fixedrange=false
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_load_average_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=load_average "0-20"=0-20 "20-50"=20.001-50 "50+"=50.001-999999 default=abnormal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_load_average_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_load_average_rangemap` 
| `dmc_timechart` partial=f dc(server) as server_count by range 
| fields _time, "50+", "20-50", "0-20"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_match_all_scheduled_search_types]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = ((data.search_props.type="datamodel acceleration" OR search_props.type="datamodel acceleration") OR (data.search_props.type="report acceleration" OR search_props.type="report acceleration") OR (data.search_props.type="scheduled" OR search_props.type="scheduled") OR (data.search_props.type="summary indexing" OR search_props.type="summary indexing"))
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_mem_used_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=resource_usage 
"0GB"=0-0 
"<1GB"=0.01-1024 
"1-2GB"=1024.001-2048 
"2-3GB"=2048.001-3072 
"3-4GB"=3072.001-4096 
"4-5GB"=4096.001-5120 
"5-10GB"=5120.001-10240 
"10-15GB"=10240.001-15360 
"15-20GB"=15360.001-20480 
"20-30GB"=20480.001-30720 
"30GB+"=30720.001-999999 
default="0GB" 
| eval resource_usage = round(resource_usage / 1024, 3)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_mem_used_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_mem_used_rangemap` 
| `dmc_timechart` partial=f dc(host) AS host_count by range 
| fields _time, "30GB+" "20-30GB" "15-20GB" "5-10GB" "4-5GB" "3-4GB" "2-3GB" "1-2GB" "<1GB" "0GB"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_memory_usage_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=pct_mem_used "0-60%"=0-0.6 "60-80%"=0.6001-0.8 "80-100%"=0.8001-1 default=abnormal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_memory_usage_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_memory_usage_rangemap` 
| `dmc_timechart` partial=f dc(server) as server_count by range 
| fields _time, "80-100%", "60-80%", "0-60%"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_pct_cpu_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=resource_usage 
"0 cores"=0-0.009 
"0.01-1 cores"=0.01-1 
"1-2 cores"=1.01-2 
"2-3 cores"=2.01-3 
"3-4 cores"=3.01-4 
"4-5 cores"=4.01-5 
"5-10 cores"=5.01-10 
"10-15 cores"=10.01-15 
"15-20 cores"=15.01-20 
"20-25 cores"=20.01-25 
"25-30 cores"=25.01-30 
"30+ cores"=30.01-999 
"negative"=-99999--0.001 
default="0 cores"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_pct_cpu_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_pct_cpu_rangemap` 
| `dmc_timechart` partial=f dc(host) AS host_count by range 
| fields _time, "30+ cores" "25-30 cores" "20-25 cores" "15-20 cores" "10-15 cores" "5-10 cores" "4-5 cores" "3-4 cores" "2-3 cores" "1-2 cores" "0.01-1 cores" "0 cores"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_pretty_print_role(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = role
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval $role$ = mvmap($role$, case( 
    $role$ = "cluster_master", "Cluster Master", 
    $role$ = "search_head", "Search Head", 
    $role$ = "indexer", "Indexer", 
    $role$ = "kv_store", "KV Store", 
    $role$ = "license_master", "License Master"))
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_queue_fill_ratio_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=fill_percentage "0-60%"=0-60 "60-80%"=60.01-80 "80-100%"=80.01-100
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_queue_fill_ratio_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_queue_fill_ratio_rangemap` 
| timechart partial=f dc(host) by range 
| fields _time "80-100%" "60-80%" "0-60%"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_cpu_system_pct]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=cpu_system_pct #53A051=0-59.999 #F1813F=60-79.999 default=#DC4E41
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_default_cpu_system_pct]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=cpu_system_pct #53A051=0-59.999 #F1813F=60-79.999 default=#DC4E41
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_default_indexing_rate]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=average_KBps #CEE4EE=0-99.999 #6BAECA=100-999.999 #0877A6=1000-4999 #005E86=5000-9999 default=#004664
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_default_mem_used]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=mem_used #53A051=0-59.999 #F1813F=60-79.999 default=#DC4E41
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_default_search_concurrency]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=search_concurrency #CEE4EE=0-5.999 #6BAECA=6-10.999 #0877A6=11-20.999 default=#005E86
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_default_up_down_status]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=up_down_status #DC4E41=0-0.999 default=#53A051
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_indexing_rate]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=average_KBps #CEE4EE=0-99.999 #6BAECA=100-999.999 #0877A6=1000-4999 #005E86=5000-9999 default=#004664
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_mem_used]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=mem_used #53A051=0-59.999 #F1813F=60-79.999 default=#DC4E41
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_search_concurrency]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=search_concurrency #CEE4EE=0-5.999 #6BAECA=6-10.999 #0877A6=11-20.999 default=#005E86
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rangemap_up_down_status]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=up_down_status #DC4E41=0-0.999 default=#53A051
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_re_build_forwarder_assets(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = sparkline_span
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_build_forwarder_assets($sparkline_span$)` 
| rename new_sum_kb as sum_kb, new_avg_tcp_kbps_sparkline as avg_tcp_kbps_sparkline, new_avg_tcp_kbps as avg_tcp_kbps, new_avg_tcp_eps as avg_tcp_eps 
| eval avg_tcp_kbps_sparkline = "N/A" 
| addinfo 
| eval status = if(isnull(sum_kb) or (sum_kb <= 0) or (last_connected < (info_max_time - 900)), "missing", "active") 
| eval sum_kb = round(sum_kb, 2) 
| eval avg_tcp_kbps = round(avg_tcp_kbps, 2) 
| eval avg_tcp_eps = round(avg_tcp_eps, 2) 
| fields guid, hostname, forwarder_type, version, arch, os, status, last_connected, sum_kb, avg_tcp_kbps_sparkline, avg_tcp_kbps, avg_tcp_eps 
| outputlookup dmc_forwarder_assets
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_re_build_forwarder_assets_light(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = sparkline_span
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_build_forwarder_assets($sparkline_span$)` 
| rename new_sum_kb as sum_kb, new_avg_tcp_kbps_sparkline as avg_tcp_kbps_sparkline, new_avg_tcp_kbps as avg_tcp_kbps, new_avg_tcp_eps as avg_tcp_eps 
| eval avg_tcp_kbps_sparkline = "N/A" 
| addinfo 
| eval status = if(isnull(sum_kb) or (sum_kb <= 0) or (last_connected < (relative_time(now(),"-15m"))), "missing", "active") 
| eval sum_kb = round(sum_kb, 2) 
| eval avg_tcp_kbps = round(avg_tcp_kbps, 2) 
| eval avg_tcp_eps = round(avg_tcp_eps, 2) 
| fields guid, hostname, forwarder_type, version, arch, os, status, last_connected, sum_kb, avg_tcp_kbps_sparkline, avg_tcp_kbps, avg_tcp_eps 
| outputlookup dmc_forwarder_assets
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rename_forwarder_type(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = type
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval $type$ = case($type$ == "full", "Heavy Forwarder", $type$ == "uf", "Universal Forwarder", $type$ == "lwf", "Light Forwarder", 1==1, $type$)
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_rename_introspection_fields]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval process = 'data.process' 
| eval args = 'data.args' 
| eval pid = 'data.pid' 
| eval ppid = 'data.ppid' 
| eval elapsed = 'data.elapsed' 
| eval mem_used = 'data.mem_used' 
| eval mem = 'data.mem' 
| eval pct_memory = 'data.pct_memory' 
| eval normalized_pct_cpu = 'data.normalized_pct_cpu' 
| eval pct_cpu = 'data.pct_cpu' 
| eval sid = 'data.search_props.sid' 
| eval app = 'data.search_props.app' 
| eval label = 'data.search_props.label' 
| eval type = 'data.search_props.type' 
| eval mode = 'data.search_props.mode' 
| eval user = 'data.search_props.user' 
| eval role = 'data.search_props.role' 
| eval label = if(isnotnull('data.search_props.label'), 'data.search_props.label', "") 
| eval provenance = if(isnotnull('data.search_props.provenance'), 'data.search_props.provenance', "unknown") 
| eval search_head = case(isnotnull('data.search_props.search_head') AND 'data.search_props.role' == "peer", 'data.search_props.search_head', isnull('data.search_props.search_head') AND 'data.search_props.role' == "head", "_self", isnull('data.search_props.search_head') AND 'data.search_props.role' == "peer", "_unknown") 
| eval workload_pool = if(isnotnull('data.workload_pool'), 'data.workload_pool', "UNDEFINED")
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_replication_lag_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=lag "0-10s"=0-10 "10-30s"=10.001-30 ">30s"=30.001-10000000 default=abnormal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_resource_usage_by_processes_timechart(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = resource_type, function
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_bin` 
| `dmc_rename_introspection_fields` 
| stats latest($resource_type$) AS resource_usage_dedup latest(process_class) AS process_class by pid, _time 
| stats sum(resource_usage_dedup) AS resource_usage by _time, process_class 
| timechart minspan=10s $function$(resource_usage) AS "Resource Usage" by process_class
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_resource_usage_instance_drilldown(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` sourcetype=splunk_resource_usage component=PerProcess host=$host$ 
| `dmc_rename_introspection_fields` 
| `dmc_classify_processes` 
| eval args = if(isnotnull(sid),"search --id=".sid." (...)", args) 
| eval cmd = process." ".args 
| stats latest(pid) as "PID", latest(ppid) as "PPID", latest(label) as Label, latest(provenance) as Provenance, latest(search_head) as "Search Head", latest(type) as Type, latest(user) as User, latest(app) as App, latest(mode) as Mode, latest(role) as Role, avg(pct_cpu) as avg_pct_cpu, max(mem_used) as "Physical Memory Usage (MB)", min(_time) as min_time, max(_time) as max_time, max(elapsed) as "Elapsed Time" by cmd 
| eval avg_pct_cpu = round(avg_pct_cpu, 2) 
| `dmc_time_format(min_time)` 
| `dmc_time_format(max_time)` 
| rename avg_pct_cpu as "Average CPU Usage (%)", min_time as "First Time Seen", max_time as "Last Time Seen"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_scheduler_instance_search_concurrency_drilldown(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host, concurrencySplitBy, type
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` host=$host$ sourcetype=splunk_resource_usage component=PerProcess data.search_props.sid::* `dmc_match_all_scheduled_search_types` 
| `dmc_rename_introspection_fields` 
| where $concurrencySplitBy$=="$type$" 
| stats latest(pid) as "PID", latest(ppid) as "PPID", latest(label) as Label, latest(provenance) as Provenance, latest(search_head) as "Search Head", latest(type) as Type, latest(user) as User, latest(app) as App, latest(mode) as Mode, latest(role) as Role, avg(pct_cpu) as avg_pct_cpu, max(mem_used) as "Physical Memory Usage (MB)", min(_time) as min_time, max(_time) as max_time, max(elapsed) as "Elapsed Time" by sid 
| eval avg_pct_cpu = round(avg_pct_cpu, 2) 
| `dmc_time_format(min_time)` 
| `dmc_time_format(max_time)` 
| rename avg_pct_cpu as "Average CPU Usage (%)", min_time as "First Time Seen", max_time as "Last Time Seen"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_search_activity_instance_drilldown(3)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = host, concurrencySplitBy, type
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_set_index_introspection` host=$host$ sourcetype=splunk_resource_usage component=PerProcess data.search_props.sid::* 
| `dmc_rename_introspection_fields` 
| where $concurrencySplitBy$=="$type$" 
| stats latest(pid) as "PID", latest(ppid) as "PPID", latest(label) as Label, latest(provenance) AS Provenance, latest(search_head) as "Search Head", latest(type) as Type, latest(user) as User, latest(app) as App, latest(mode) as Mode, latest(role) as Role, avg(pct_cpu) as avg_pct_cpu, max(mem_used) as "Physical Memory Usage (MB)", min(_time) as min_time, max(_time) as max_time, max(elapsed) as "Elapsed Time" by sid 
| eval avg_pct_cpu = round(avg_pct_cpu, 2) 
| `dmc_time_format(min_time)` 
| `dmc_time_format(max_time)` 
| rename avg_pct_cpu as "Average CPU Usage (%)", min_time as "First Time Seen", max_time as "Last Time Seen"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_search_count_rangemap]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = rangemap field=search_count "0"=0-0 "1-5"=1-5 "6-10"=6-10 "11-15"=11-15 "16-20"=16-20 "21-30"=21-30 "31-40"=31-40 "41-50"=41-50 "51-75"=51-75 "76-100"=76-100 "101+"=101-99999
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_search_count_rangemap_and_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_search_count_rangemap` 
| `dmc_timechart` dc(host) AS count_host by range 
| fields _time "101+" "76-100" "51-75" "41-50" "31-40" "21-30" "16-20" "11-15" "6-10" "1-5" "0"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_bin]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = bin _time span=10s
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_bin_for_disk_usage]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = bin _time span=10min
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_bin_for_iostats]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = bin _time minspan=1min
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_bin_for_metrics_log]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = bin _time minspan=30s
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_bin_for_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = bin _time minspan=10s
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_bin_for_timechart_for_disk_usage]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = bin _time minspan=10min
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_group_label_and_sort(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = search_group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval label = replace($search_group$, "^dmc_\w*group_", "") 
| eval label = case( 
    $search_group$ == "dmc_group_indexer", "Indexer", 
    $search_group$ == "dmc_group_search_head", "Search Head", 
    $search_group$ == "dmc_group_cluster_master", "Cluster Master", 
    $search_group$ == "dmc_group_license_master", "License Master", 
    $search_group$ == "dmc_group_deployment_server", "Deployment Server", 
    $search_group$ == "dmc_group_kv_store", "KV Store", 
    $search_group$ == "dmc_group_shc_deployer", "SHC Deployer", 
    like($search_group$, "dmc_customgroup_%"), label."  (custom)", 
    like($search_group$, "dmc_indexerclustergroup_%"), label." (Indexer Cluster)", 
    like($search_group$, "dmc_searchheadclustergroup_%"), label." (Search Head Cluster)", 
    1 == 1, label." (Unrecognized)") 
| eval order = case( 
    like($search_group$, "dmc_group_%"), 100, 
    like($search_group$, "dmc_customgroup_%"), 200, 
    like($search_group$, "dmc_indexerclustergroup_%"), 300, 
    like($search_group$, "dmc_searchheadclustergroup_%"), 400, 
    1 == 1, "500") 
| sort order, $search_group$ 
| fields - order
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_index_audit]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = index=_audit
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_index_internal]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = index=_internal
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_set_index_introspection]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = index=_introspection
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_tcp_forwarder_count_split_by(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = field, group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_get_forwarder_tcpin` search_group=dmc_group_indexer search_group=$group$ 
| `dmc_timechart_for_metrics_log` dc(guid) as forwarder_count by $field$ 
| rename forwarder_count as "Forwarder Count"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_tcp_throughput_split_by(2)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = field, group
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = `dmc_get_forwarder_tcpin` search_group=dmc_group_indexer search_group=$group$ 
| `dmc_timechart_for_metrics_log` per_second(kb) as avg_tcp_KBps by $field$ 
| rename avg_tcp_KBps as "KB/s"
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_time_format(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = time
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = eval $time$ = strftime($time$, "%m/%d/%Y %H:%M:%S %z")
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_timechart]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = timechart minspan=10s
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_timechart_for_disk_usage]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = timechart minspan=10min
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_timechart_for_iostats]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = timechart minspan=60s partial=f
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_timechart_for_metrics_log]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = timechart minspan=30s
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [dmc_timechart_for_metrics_reaper_and_heartbeat]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = timechart minspan=300s
/opt/splunk/etc/apps/search/default/macros.conf                    [histperc(3)]
/opt/splunk/etc/apps/search/default/macros.conf                    args = perc, hist_rate, le
/opt/splunk/etc/apps/search/default/macros.conf                    definition = sort $le$
| eventstats max($hist_rate$) as total_hist_rate, last($le$) as uppermost_bound, count as num_buckets
| eval rank=exact($perc$)*total_hist_rate
| streamstats current=f last($le$) as gr, last($hist_rate$) as last_hist_rate
| eval gr=if(isnull(gr), 0, gr), last_hist_rate=if(isnull(last_hist_rate), 0, last_hist_rate)
| where $hist_rate$ >= rank
| head 1
| eval res=case(lower(uppermost_bound) != "+inf" or num_buckets < 2, "NaN", lower($le$) == "+inf", gr, gr == 0 and $le$ <= 0, $le$, true(), exact(gr + ($le$-gr)*(rank - last_hist_rate) / ($hist_rate$ - last_hist_rate)))
| fields res
| rename res as "histperc"
/opt/splunk/etc/apps/search/default/macros.conf                    errormsg = 1st arg "perc" must be a number between 0 and 1 (inclusive), 2nd arg "hist_rate" should be string representing a field name, and 3rd arg "le" must be the field name with the histogram buckets' upper boundaries.
/opt/splunk/etc/apps/search/default/macros.conf                    iseval = 0
/opt/splunk/etc/apps/search/default/macros.conf                    validation = isnum($perc$) and $perc$ >= 0 and $perc$ <= 1 and isstr($hist_rate$) and isstr($le$)
/opt/splunk/etc/apps/search/default/macros.conf                    [histperc(4)]
/opt/splunk/etc/apps/search/default/macros.conf                    args = perc, hist_rate, le, groupby
/opt/splunk/etc/apps/search/default/macros.conf                    definition = sort $groupby$, $le$
| eventstats max($hist_rate$) as total_hist_rate, last($le$) as uppermost_bound, count as num_buckets by $groupby$
| eval rank=exact($perc$)*total_hist_rate
| streamstats current=f last($le$) as gr, last($hist_rate$) as last_hist_rate by $groupby$
| eval gr=if(isnull(gr), 0, gr), last_hist_rate=if(isnull(last_hist_rate), 0, last_hist_rate)
| where $hist_rate$ >= rank
| dedup $groupby$
| eval res=case(lower(uppermost_bound) != "+inf" or num_buckets < 2, "NaN", lower($le$) == "+inf", gr, gr == 0 and $le$ <= 0, $le$, true(), exact(gr + ($le$-gr)*(rank - last_hist_rate) / ($hist_rate$ - last_hist_rate)))
| fields $groupby$, res
| rename res as "histperc"
/opt/splunk/etc/apps/search/default/macros.conf                    errormsg = 1st arg "perc" must be a number between 0 and 1 (inclusive), 2nd arg "hist_rate" should be string representing a field name, and 3rd arg "le" must be the field name with the histogram buckets' upper boundaries. 4th arg "groupby" must be a string with one or more field names, and must be quoted if there are multiple fields.
/opt/splunk/etc/apps/search/default/macros.conf                    iseval = 0
/opt/splunk/etc/apps/search/default/macros.conf                    validation = isnum($perc$) and $perc$ >= 0 and $perc$ <= 1 and isstr($hist_rate$) and isstr($le$) and isstr($groupby$)
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    [instrumentation_distribution_strings(3)]
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    args = name,multiplier,round_digits
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    definition = "\"avg\":"+`instrumentation_number_format($name$_avg,$multiplier$,$round_digits$)` + "," + "\"min\":"+`instrumentation_number_format($name$_min,$multiplier$,$round_digits$)` + "," + "\"max\":"+`instrumentation_number_format($name$_max,$multiplier$,$round_digits$)` + "," + "\"p10\":"+`instrumentation_number_format($name$_p10,$multiplier$,$round_digits$)` + "," + "\"p20\":"+`instrumentation_number_format($name$_p20,$multiplier$,$round_digits$)` + "," + "\"p30\":"+`instrumentation_number_format($name$_p30,$multiplier$,$round_digits$)` + "," + "\"p40\":"+`instrumentation_number_format($name$_p40,$multiplier$,$round_digits$)` + "," + "\"p50\":"+`instrumentation_number_format($name$_p50,$multiplier$,$round_digits$)` + "," + "\"p60\":"+`instrumentation_number_format($name$_p60,$multiplier$,$round_digits$)` + "," + "\"p70\":"+`instrumentation_number_format($name$_p70,$multiplier$,$round_digits$)` + "," + "\"p80\":"+`instrumentation_number_format($name$_p80,$multiplier$,$round_digits$)` + "," + "\"p90\":"+`instrumentation_number_format($name$_p90,$multiplier$,$round_digits$)`
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    iseval = 0
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    [instrumentation_distribution_values(1)]
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    args = name
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    definition = avg($name$) as $name$_avg min($name$) as $name$_min max($name$) as $name$_max perc10($name$) as $name$_p10 perc20($name$) as $name$_p20 perc30($name$) as $name$_p30 perc40($name$) as $name$_p40 perc50($name$) as $name$_p50 perc60($name$) as $name$_p60 perc70($name$) as $name$_p70 perc80($name$) as $name$_p80 perc90($name$) as $name$_p90
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    iseval = 0
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    [instrumentation_number_format(3)]
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    args = name,multiplier,round_digits
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    definition = tostring(coalesce(round($name$*$multiplier$,$round_digits$), "null"))
/opt/splunk/etc/apps/splunk_instrumentation/default/macros.conf    iseval = 0
/opt/splunk/etc/apps/search/default/macros.conf                    [set_local_host]
/opt/splunk/etc/apps/search/default/macros.conf                    definition = rest splunk_server=local /services/server/info | return host
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       [svg_viz_gauge(1)]
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       args = svg_viz_degree
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       definition = eval svg_viz_degree=$svg_viz_degree$ 
| eval svg_viz = "<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 512 512\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" xmlns:serif=\"http://www.serif.com/\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\">
    <rect x=\"213.113\" y=\"378.801\" width=\"86.297\" height=\"95.73\" style=\"fill:rgb(168,211,216);fill-rule:nonzero;\"/>
    <path d=\"M464.023,215.262C464.023,330.004 371.004,423.02 256.262,423.02C141.52,423.02 48.504,330.004 48.504,215.262C48.504,100.516 141.52,7.5 256.262,7.5C371.004,7.5 464.023,100.516 464.023,215.262Z\" style=\"fill:rgb(83,121,131);fill-rule:nonzero;\"/>
    <path d=\"M429.25,215.262C429.25,310.801 351.801,388.25 256.262,388.25C160.723,388.25 83.273,310.801 83.273,215.262C83.273,119.723 160.723,42.27 256.262,42.27C351.801,42.27 429.25,119.723 429.25,215.262Z\" style=\"fill:rgb(222,236,241);fill-rule:nonzero;\"/>
    <path d=\"M256.262,42.27C251.012,42.27 245.816,42.508 240.688,42.965C328.992,50.773 398.238,124.926 398.238,215.262C398.238,305.594 328.992,379.746 240.688,387.555C245.816,388.016 251.012,388.25 256.262,388.25C351.801,388.25 429.25,310.801 429.25,215.262C429.25,119.723 351.801,42.27 256.262,42.27Z\" style=\"fill:rgb(168,211,216);fill-rule:nonzero;\"/>
    <path d=\"M386.742,504.5L125.781,504.5C118.73,504.5 113.012,498.785 113.012,491.734C113.012,472.25 128.809,456.457 148.289,456.457L364.234,456.457C383.719,456.457 399.512,472.25 399.512,491.734C399.512,498.785 393.797,504.5 386.742,504.5Z\" style=\"fill:rgb(83,121,131);fill-rule:nonzero;\"/>
    <path d=\"M364.234,456.457L347.504,456.457L347.504,456.516C359.789,457.348 369.5,467.566 369.5,480.066L369.5,504.5L386.746,504.5C393.797,504.5 399.512,498.785 399.512,491.734C399.512,472.25 383.719,456.457 364.234,456.457Z\" style=\"fill:rgb(62,89,89);fill-rule:nonzero;\"/>
    <path d=\"M284.164,215.262C284.164,230.668 271.672,243.16 256.262,243.16C240.852,243.16 228.359,230.668 228.359,215.262C228.359,199.852 240.852,187.359 256.262,187.359C271.672,187.359 284.164,199.852 284.164,215.262Z\" style=\"fill:rgb(62,89,89);fill-rule:nonzero;\"/>
    <path d=\"M278.707,98.195L247.277,181.012\" style=\"fill:none;fill-rule:nonzero;\"/>
    <path d=\"M242.66,98.863C219.683,102.607 199.922,103.051 171.984,130.984C149.477,153.496 137.078,183.426 137.078,215.262C137.078,247.098 149.477,277.023 171.984,299.535C174.914,302.469 174.914,307.215 171.984,310.148L158.348,323.785C151.41,330.723 140.703,320.211 147.738,313.176L156.215,304.695C135.805,281.926 123.949,253.297 122.277,222.762L110.285,222.762C100.355,222.762 100.367,207.758 110.289,207.758L122.277,207.758C123.949,177.223 135.809,148.594 156.219,125.82L147.738,117.344C140.715,110.316 151.34,99.719 158.352,106.734L166.836,115.219C189.672,94.824 218.727,83.059 248.762,81.328L248.762,69.281C248.762,59.348 263.77,59.363 263.77,69.281L263.77,81.301C270.563,81.668 277.551,82.031 284.105,83.977C294.02,86.919 312.992,93.751 323.258,98.957C331.496,103.135 338.773,109.016 345.699,115.215L354.18,106.734C361.203,99.711 371.805,110.332 364.789,117.344L356.312,125.824C376.719,148.598 388.578,177.223 390.25,207.758L402.242,207.758C412.176,207.758 412.16,222.762 402.242,222.762L390.25,222.762C388.578,253.297 376.723,281.926 356.312,304.695L364.789,313.176C371.82,320.203 361.141,330.746 354.18,323.785L340.656,310.258C340.617,310.223 340.578,310.184 340.539,310.148C337.609,307.215 337.609,302.469 340.539,299.535C363.051,277.023 375.449,247.098 375.449,215.262C375.449,183.426 363.051,153.496 340.539,130.984C333.676,124.117 318.162,112.974 309.845,108.519C294.867,100.495 264.991,95.224 242.66,98.863Z\"/>
    <g id=\"zeiger\" style=\"transform: rotate(".svg_viz_degree."deg);transform-origin: 256px 217px;\">
        <path d=\"M309.516,76.105C302.566,73.469 294.797,76.961 292.156,83.906L227.125,255.246C224.492,262.184 227.969,269.941 234.898,272.59C241.852,275.25 249.645,271.758 252.289,264.797L317.316,93.465C319.953,86.516 316.461,78.742 309.516,76.105Z\" style=\"fill:rgb(255,71,85);fill-rule:nonzero;stroke:black;stroke-width:15px;\"/>
    </g>
    <path d=\"M256.262,235.66C245.016,235.66 235.863,226.508 235.863,215.262C235.863,204.012 245.016,194.863 256.262,194.863C267.508,194.863 276.66,204.012 276.66,215.262C276.66,226.508 267.508,235.66 256.262,235.66Z\" style=\"fill:rgb(148,139,144);fill-rule:nonzero;stroke:black;stroke-width:9.96px;\"/>
    <path d=\"M283.277,314.355L229.246,314.355C219.324,314.355 219.313,329.359 229.246,329.359L283.277,329.359C293.199,329.359 293.211,314.355 283.277,314.355Z\" style=\"fill-rule:nonzero;\"/>
    <path d=\"M408.477,63.047C367.816,22.391 313.762,0 256.262,0C203.652,0 153.004,19.184 113.648,54.016C106.223,60.59 116.152,71.836 123.594,65.254C160.203,32.852 207.32,15.004 256.262,15.004C366.684,15.004 456.52,104.84 456.52,215.262C456.52,264.203 438.672,311.32 406.27,347.93C399.695,355.355 410.926,365.313 417.508,357.871C452.34,318.52 471.523,267.871 471.523,215.262C471.523,157.762 449.133,103.703 408.477,63.047Z\" style=\"fill-rule:nonzero;\"/>
    <path d=\"M256.262,395.75C355.785,395.75 436.754,314.781 436.754,215.262C436.754,115.738 355.785,34.77 256.262,34.77C156.738,34.77 75.773,115.738 75.773,215.262C75.773,314.781 156.738,395.75 256.262,395.75ZM256.262,49.777C347.512,49.777 421.746,124.012 421.746,215.262C421.746,306.508 347.512,380.746 256.262,380.746C165.012,380.746 90.777,306.508 90.777,215.262C90.777,124.012 165.016,49.777 256.262,49.777Z\" style=\"fill-rule:nonzero;\"/>
    <path d=\"M364.234,448.949L306.914,448.949L306.914,424.473C339.262,416.637 369.598,401.363 395.285,379.613C402.852,373.203 393.168,361.742 385.59,368.164C349.52,398.699 303.594,415.516 256.262,415.516C145.84,415.516 56.008,325.684 56.008,215.262C56.008,167.93 72.824,122.004 103.359,85.938C109.77,78.367 98.324,68.656 91.906,76.238C59.078,115.012 41,164.383 41,215.262C41,272.758 63.391,326.816 104.047,367.473C132.484,395.906 167.473,415.406 205.609,424.563L205.609,448.949L148.289,448.949C124.699,448.949 105.512,468.141 105.512,491.73C105.512,502.906 114.602,512 125.781,512L386.742,512C397.918,512 407.012,502.906 407.012,491.73C407.012,468.141 387.82,448.949 364.234,448.949ZM220.617,427.602C232.285,429.535 244.199,430.523 256.262,430.523C268.27,430.523 280.191,429.516 291.906,427.547L291.906,448.949L220.613,448.949L220.613,427.602L220.617,427.602ZM386.742,496.996L125.781,496.996C122.879,496.996 120.516,494.633 120.516,491.73C120.516,476.414 132.977,463.957 148.289,463.957L364.234,463.957C379.547,463.957 392.008,476.414 392.008,491.73C392.008,494.633 389.645,496.996 386.742,496.996Z\" style=\"fill-rule:nonzero;\"/>
</svg>" | fields - svg_viz_degree
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       iseval = 0
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       [svg_viz_man(2)]
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       args = svg_viz_color, svg_viz_percent
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       definition = eval svg_viz_color = $svg_viz_color$, svg_viz_percent=$svg_viz_percent$ 
| eval svg_viz = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 125 133\">
<defs>
  <linearGradient id=\"progress\" x1=\"0\" y1=\"1\" x2=\"0\" y2=\"0\">
  <stop id=\"stop1\" offset=\"".svg_viz_percent."\" stop-color=\"".svg_viz_color."\"/>
  <stop id=\"stop2\" offset=\"".svg_viz_percent."\" stop-color=\"rgba(255, 255, 255, 0.3)\"/>
  </linearGradient>
</defs>
<g style=\"fill:url(#progress);fill-rule:nonzero;\">
  <path d=\"M62.096,8.586C56.889,8.586 52.673,12.805 52.673,18.012C52.674,23.214 56.89,27.435 62.096,27.435C67.298,27.435 71.518,23.214 71.518,18.012C71.518,12.804 67.298,8.586 62.096,8.586ZM51.687,29.853C45.015,29.853 39.556,35.26 39.556,41.923L39.556,71.152C39.556,73.427 41.347,75.275 43.626,75.275C45.906,75.275 47.753,73.429 47.753,71.152L47.753,44.798L49.855,44.798C49.855,44.798 49.903,113.607 49.903,118.127C49.903,121.177 52.381,123.657 55.435,123.657C58.487,123.657 60.96,121.177 60.96,118.127L60.96,75.547L63.229,75.547L63.229,118.127C63.229,121.177 65.702,123.657 68.76,123.657C71.814,123.657 74.309,121.177 74.309,118.127L74.309,44.798L76.436,44.798L76.436,71.152C76.436,73.427 78.286,75.275 80.562,75.275C82.842,75.275 84.635,73.429 84.635,71.152L84.635,41.923C84.635,35.26 79.172,29.853 72.506,29.853L51.687,29.853Z\"/>
  <path d=\"M51.687,29.853C45.015,29.853 39.556,35.26 39.556,41.923L39.556,71.152C39.556,73.427 41.347,75.275 43.626,75.275C45.906,75.275 47.753,73.429 47.753,71.152L47.753,44.798L49.855,44.798C49.855,44.798 49.903,113.607 49.903,118.127C49.903,121.177 52.381,123.657 55.435,123.657C58.487,123.657 60.96,121.177 60.96,118.127L60.96,75.547L63.229,75.547L63.229,118.127C63.229,121.177 65.702,123.657 68.76,123.657C71.814,123.657 74.309,121.177 74.309,118.127L74.309,44.798L76.436,44.798L76.436,71.152C76.436,73.427 78.286,75.275 80.562,75.275C82.842,75.275 84.635,73.429 84.635,71.152L84.635,41.923C84.635,35.26 79.172,29.853 72.506,29.853L51.687,29.853ZM51.687,30.853L72.506,30.853C78.621,30.853 83.635,35.811 83.635,41.923C83.635,41.923 83.635,71.152 83.635,71.152C83.635,72.874 82.286,74.275 80.562,74.275C78.838,74.275 77.436,72.876 77.436,71.152C77.436,71.152 77.436,44.798 77.436,44.798C77.436,44.246 76.988,43.798 76.436,43.798L74.309,43.798C73.757,43.798 73.309,44.246 73.309,44.798L73.309,118.127C73.309,120.627 71.263,122.657 68.76,122.657C66.255,122.657 64.229,120.626 64.229,118.127C64.229,118.127 64.229,75.547 64.229,75.547C64.229,74.995 63.782,74.547 63.229,74.547L60.96,74.547C60.407,74.547 59.96,74.995 59.96,75.547L59.96,118.127C59.96,120.625 57.934,122.657 55.435,122.657C52.933,122.657 50.903,120.626 50.903,118.127C50.903,113.607 50.855,44.797 50.855,44.797C50.854,44.245 50.407,43.798 49.855,43.798L47.753,43.798C47.201,43.798 46.753,44.246 46.753,44.798L46.753,71.152C46.753,72.877 45.353,74.275 43.626,74.275C41.903,74.275 40.556,72.872 40.556,71.152C40.556,71.152 40.556,41.923 40.556,41.923C40.556,35.811 45.566,30.853 51.687,30.853ZM62.096,8.586C67.298,8.586 71.518,12.804 71.518,18.012C71.518,23.214 67.298,27.435 62.096,27.435C56.89,27.435 52.674,23.214 52.673,18.012C52.673,12.805 56.889,8.586 62.096,8.586ZM62.096,9.586C66.746,9.586 70.518,13.356 70.518,18.012C70.518,22.662 66.746,26.435 62.096,26.435C57.442,26.435 53.674,22.662 53.673,18.011C53.673,13.357 57.441,9.586 62.096,9.586Z\" style=\"stroke:".svg_viz_color."\"/>
</g>
</svg>" | fields - svg_viz_color
/opt/splunk/etc/apps/ConsistSplunkShowCase/local/macros.conf       iseval = 0
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf [time_modifier(1)]
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf args = time_modifier
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf definition = tostring(relative_time(time(), "$time_modifier$"))
/opt/splunk/etc/apps/splunk_monitoring_console/default/macros.conf iseval = 1
/opt/splunk/etc/apps/search/default/macros.conf                    [truncate_search]
/opt/splunk/etc/apps/search/default/macros.conf                    definition = eval search=if(length(search) > 150, substr(search, 0, 150) + "...", search)
